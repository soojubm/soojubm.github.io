<main class="page js-tab">
  <header class="page-header">
    <mm-text-group variant="title">
      <mm-text variant="title">Button</mm-text>
      <mm-text variant="body-large">
        페이지 이동이나 양식 제출 등 사용자 여정의 핵심과업을 수행합니다. 제한적으로 사용하여
        사용자의 과업을 돕습니다.
      </mm-text>
    </mm-text-group>

    <dl class="article-aka">
      <dt>a.k.a</dt>
      <dd>button</dd>
      <dd>text - icon(avatar)</dd>
    </dl>
  </header>
  <div style="margin-top: 2rem"></div>
  <mm-tablist class="tablist">
    <mm-tab slot="tab" name="" selected="true" data-index="1"> 베리언트 </mm-tab>
    <mm-tab slot="tab" name="" selected="false" data-index="2"> 상태 </mm-tab>
    <i class="tablist-indicator"></i>
  </mm-tablist>
  <div style="margin-bottom: -1rem"></div>
  <section class="component-example">
    <mm-tabpanel role="tabpanel" aria-hidden="false" data-index="1">
      <mm-group>
        <mm-button variant="primary" size="large">primary</mm-button>
        <mm-button variant="secondary" size="large">secondary</mm-button>
        <mm-button variant="tertiary" size="large">tertiary</mm-button>
        <!-- <mm-button variant="destructive" aria-label="danger">destructive</mm-button> -->
        <mm-button variant="text" size="large">text</mm-button>
        <mm-button variant="text" size="large" disabled>text</mm-button>
      </mm-group>
      <mm-separator></mm-separator>
      <mm-group>
        <mm-button variant="primary">action</mm-button>
        <mm-button variant="tertiary">action</mm-button>`
      </mm-group>
    </mm-tabpanel>
    <mm-tabpanel role="tabpanel" aria-hidden="true" data-index="2">
      <mm-group variant="chip">
        <mm-button variant="tertiary" status="hover">hovered</mm-button>
        <mm-button variant="tertiary" status="focus">focused</mm-button>
        <mm-button variant="`tertiary" disabled>disabled</mm-button>
        <mm-button variant="tertiary">
          <div slot="prefix" class="chat-inputing animation-chatting">
            <span style="background-color: var(--color-background-strong)"></span>
            <span style="background-color: var(--color-background-strong)"></span>
            <span style="background-color: var(--color-background-strong)"></span>
          </div>
        </mm-button>
      </mm-group>
    </mm-tabpanel>
  </section>

  <section class="component-props">
    <!-- <mm-text variant="subhead">Props</mm-text> -->
    <dl>
      <dt>variant</dt>
      <dd>'primary' | 'secondary' | 'tertiary'</dd>
      <dt>size<attr>?</attr></dt>
      <dd>'large' | 'medium'</dd>

      <dt>name</dt>
      <dd>string</dd>
      <dt>value</dt>
      <dd>string</dd>

      <dt>isDisabled?</dt>
      <dd>boolean</dd>
      <dt>isFullwidth<attr>?</attr></dt>
      <dd>boolean</dd>
      <dt>href<attr>?</attr></dt>
      <dd>string</dd>
      <dt>onClick<attr>?</attr></dt>
      <dd>event: (React.MouseEvent&lt;HTMLButtonElement&gt;) => void</dd>
    </dl>
  </section>
  <!-- 참고: 버튼 네이밍. 'link' | 'subtle' | 'primary' / 'solid' | 'outline' | 'plain' |'text' -->
  <section class="component-guide">
    <mm-text-group>
      <mm-text variant="subhead">Meta problems</mm-text>
      <mm-text variant="body">
        버튼 그룹에서 primary action에 먼저 포커싱하세요. tabindex 속성은 대신 마크업 순서와 정렬
        스타일링의 결합.
      </mm-text>
    </mm-text-group>
    <mm-text-group>
      <mm-text variant="subhead">Platform problems</mm-text>
      <mm-text variant="label-strong" aria-label="예측 가능해야 합니다.">Behavior</mm-text>
      <mm-text variant="body">
        버튼은 페이지 내에서 여러 번 반복될 수 없는 최종적인 인터렉션입니다. 단, 전송이 실패하는
        경우에는 여러 번 반복해서 실행할 수 있습니다.
      </mm-text>
      <mm-text variant="label-strong">Feedback needed</mm-text>
      <mm-text variant="body">
        물리적인 인터페이스의 출현만이 수행 결과를 피드백하는 것이 아닙니다. 예측할 수 있는 페이지
        이동이나 페이지 새로고침, 정보 구조의 변화도 피드백으로 취급될 수 있습니다. (ex bad case:
        인스타그램 앱에서 로그인되었다는 toast. 홈으로 이동과 피드 노출만으로 로그인 상태를 인지할
        수 있다.)
      </mm-text>
      <mm-text variant="label-strong">Editorial</mm-text>
      <mm-text variant="body">
        에측 가능한 레이블 텍스트를 작성하세요. 툴팁으로 부연하거나, 실행을 유도하는 보조 텍스트
        또는 실행 결과를 보충하는 보조 텍스트로 버튼 이외의 가이드가 필요하지 않습니다.
      </mm-text>
      <mm-text variant="body">
        동사가 포함된 2자 ~ 8자 한글(!). 레이블 줄임?(truncated) 불가. 사용자 시점 (ex 보내기 =>
        받기).
      </mm-text>
      <mm-text variant="body">
        2411. 칩과 통합하고 사이즈 토큰과 동일한 사이즈 프로토콜을 사용한다. 추후 선택 또는 필터링에
        따른 기능 버튼을 추가한다. 문제. 아이콘 버튼이 필요. 간격. Chip을 제거한 이유. 형태에 기반한
        액션이라는 것은 둘 다 동일. 게다가 새로운 역할을 부여 받는 버튼은 어차피 새로운 컴포넌트로
        정의되어야 하는데, filterButton이 filterChip이 되어야 하는 이유를 못 찾겠음. 결론적으로
        버튼의 형태, 이것은 input과 textfield도 마찬가지로 적용이 되는데, 버튼의 형태는 고유한
        프리미티브 컴포넌트가 갖고, 도메인에 맞게 역할를 갖는 새로운 컴포넌트를 별도 정의한다.
        ButtonPrimitive (orbit)
      </mm-text>
    </mm-text-group>

    <!-- <mm-text variant="body">모든 액션에 피드백할 필요는 없습니다.</mm-text> -->

    <mm-text-group>
      <mm-text variant="subhead" data-temp=" minimum viable experience" style="margin-top: 0">
        ButtonGroup - binary choices
      </mm-text>
      <mm-text variant="body">
        텍스트 버튼은 버튼 처럼 보이지 않을 수 있기 때문에 학습된? 보편적인? 약속된? 누구랑 약속?
        패턴에서 사용하세요. 이 시스템에는 정의하지 않지만 세로 정렬되는 버튼 그룹에서 text button이
        아래에 배치되는 패턴과 혼동되지 않도록 버튼의 아래 가이드 텍스트를 배치하지 않습니다. ->
        사실은 모든 버튼에서 전환을 유도하는 텍스트를 사용없이 인터페이스만으로.
      </mm-text>
    </mm-text-group>
    <br />
    <mm-group variant="chip">
      <mm-tile size="small">
        <mm-group variant="chip">
          <mm-button variant="tertiary">취소</mm-button>
          <mm-button variant="primary">저장</mm-button>
        </mm-group>
      </mm-tile>
      <mm-tile size="small">
        <mm-group variant="chip">
          <mm-button variant="text">건너뛰기</mm-button>
          <mm-button variant="secondary">다음</mm-button>
        </mm-group>
      </mm-tile>
      <mm-tile size="small">
        <mm-group variant="chip">
          <mm-button variant="tertiary">이전</mm-button>
          <mm-button variant="secondary">다음</mm-button>
        </mm-group>
      </mm-tile>
      <mm-tile size="small">
        <mm-group variant="chip" class="hero-actions">
          <mm-button variant="primary" href="#components">지금 가입하기</mm-button>
          <mm-button variant="text">더 알아보기</mm-button>
        </mm-group>
      </mm-tile>
    </mm-group>

    <mm-text-group>
      <mm-text variant="subhead">
        ShowMoreButton <span hidden>Image Button, CheckoutButton</span>
      </mm-text>
      <mm-text variant="body">
        fullWidth로 사용하지 마세요. 단일 콘텐츠 또는 콘텐츠 목록의 너비와 대비를 통한 강조. TODO
        이건 최종 액션이 아님. 칩이 되는 게 나을 수도.
      </mm-text>
      <mm-tile size="small">
        <mm-button variant="tertiary">
          Show more
          <mm-icon slot="suffix" name="nav-arrow-down"></mm-icon>
        </mm-button>
      </mm-tile>
    </mm-text-group>

    <mm-text-group>
      <mm-text variant="subhead"> SortButton </mm-text>
      <mm-text-list
        texts='["Split button이란? 사용자에게 더 많은 작업을 표시하는 경우 작업을 선택하여 트리거할 수 있도록 선택 + 버튼 조합을 사용. 것이 좋습니다.", "Link Button. next에서 Link를 사용하면 관련 페이지를 미리 가져오기 때문에 성능 이점이 있다. 버튼과 형태는 동일하다. Link 안에 button의 형태를 포함하도록 하는 방법은?", "빈 버튼이 필요한가? 리액트에서 포커싱이 가능한 전체 영역의 버튼. 도는 버튼 내부에서포지셔닝되는 버튼", "Dropdown은 버튼과 목록을 포함한 합성된 컴포넌트임. 최근 바텀 셀렉트 시트 같은 느낌."]'
      ></mm-text-list>
    </mm-text-group>

    <br />

    <mm-text variant="body-large">파일 업로드. 이미지 업로드와 파일 업로드 구분.</mm-text>
    <form class="file" method="" enctype="multipart/form-data">
      <mm-text variant="body">프로필 사진</mm-text>
      <div>
        <!-- //  accept=".jpg,.png" capture="camera" -->
        <!-- TODO -->
        <input
          class="js-file-input visually-hidden"
          type="file"
          id="file2"
          multiple
          style="
            font-family: inherit;
            font-family: var(--font-family);
            font-size: inherit;

            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-width: var(--button-min-width);
            height: var(--button-size);
            padding: 0 var(--space-4) 2px;
            border: var(--button-border);
            border-radius: var(--button-radius);
            box-sizing: border-box;

            background: var(--button-color);
            color: var(--button-text-color);
            font-weight: var(--button-font-weight);
            text-transform: capitalize;
          "
        />
        <!-- TODO button -->
        <label class="file-label visually-hidden" for="file2">
          사진 업로드. 여기로 드래그 하셔도 되어요.
        </label>
      </div>
      <mm-text>Only .jpg and .png files. 500kb max file size.</mm-text>
      <mm-separator></mm-separator>
      <mm-text variant="body">첨부한 파일</mm-text>
      <p class="js-file-attachment-helper" role="status">No files currently selected for upload.</p>
      <section class="file-attachment-list js-file-attachment-list"></section>
    </form>
    <figure style="width: 100px">
      <img src="/public/images/springsteen.jpg" alt="${file.name}" />
      <figcaption>
        <b>${file.name}</b>
        <small>${returnFileSize(file.size)}</small>
      </figcaption>
      <mm-icon-button icon="xmark" class="js-remove-this">close</mm-icon-button>
    </figure>

    <address class="component-references">
      <mm-text variant="subhead">References</mm-text>
      <a href="https://developer.android.com/reference/android/widget/HorizontalScrollView"
        >Android - HorizontalScrollView</a
      >
      <a href="https://developer.android.com/reference/com/google/android/material/chip/ChipGroup"
        >Android - ChipGroup</a
      >
    </address>
  </section>
</main>

<main class="page">
  <style>
    .group[data-segmented] {
      display: flex;
      gap: 0;
    }
    .group[data-segmented] mm-button {
      border: 0;
      border-radius: 0;
    }
    .group[data-segmented] .button[data-selected] {
      background: var(--color-primary);
      color: #fff;
    }
    .group[data-segmented] mm-button:nth-of-type(1) {
      border-radius: var(--radius) 0 0 var(--radius);
    }
    .group[data-segmented] mm-button:nth-last-of-type(1) {
      border-radius: 0 var(--radius) var(--radius) 0;
    }
  </style>
  <mm-text variant="title">Chips - deprecated</mm-text>
  <mm-text variant="body-large">
    사용자 여정을 보조하는 액션입니다. 실행 페이지에서 사용자는 즉각적인 결과를 기대할 수 있습니다.
    TODO. icon button with tooltip, icon only chip 링크. 링크 개념 모호. 팝업. 쿼리스트링.
  </mm-text>

  <dl class="article-aka">
    <dt>a.k.a.</dt>
    <dd>Tag</dd>
    <dd>Pill</dd>
    <dd>Badge</dd>
    <dd>Token</dd>
    <dd>Label</dd>
    <dd aria-label="Adobe">Pick Button</dd>
  </dl>

  <section class="component-example">
    <mm-group variant="chip">
      <mm-button>기본</mm-button>
      <mm-button disabled>비활성</mm-button>
      <mm-button icon="user" aria-label="사용자"></mm-button>
      <mm-button icon="bell" aria-label=""></mm-button>
      <!-- <mm-button status="active">active</mm-button>
      <mm-button variant="destructive">destructive</mm-button> -->
    </mm-group>
    <mm-separator></mm-separator>
    <mm-group variant="chip">
      <mm-button icon="check" status="checked"> checkable </mm-button>
      <mm-button icon="xmark" status="checked"> dismiss </mm-button>
      <mm-button icon="nav-arrow-down" aria-expanded="true"> expandable </mm-button>
    </mm-group>
    <!-- <mm-separator></mm-separator>
      <div class="group" data-segmented="true">
        <mm-button>사용자1</mm-button>
        <mm-button>사용자1</mm-button>
        <mm-button>사용자1</mm-button>
      </div> -->
  </section>

  <section class="component-props">
    <mm-text variant="subhead">Props</mm-text>
    <dl>
      <dt>name</dt>
      <dd>string</dd>
      <dt>isChecked<attr>?</attr></dt>
      <dd>boolean</dd>
      <dd>with ariaSelected. toggle or single active. 링크로 쓰지 않는다.</dd>
      <dt>onClick</dt>
      <dd>() => void</dd>
      <dd>TODO checked 의존</dd>
      <dt>onRemoveClick<attr>?</attr></dt>
      <dd>() => void</dd>
      <dt>aria???</dt>
      <dd>'checked' | 'expanded' | 'selected' | 'pressed'</dd>
      <dd>TODO onRemoveClick와 설명과 같은 맥락</dd>
      <!-- <dt>ariaHaspopup<attr>?</attr></dt>
      <dd>null</dd> -->
    </dl>
  </section>

  <section class="component-guide">
    <mm-text-list texts='["스몰 사이즈의 버튼은 비활성 상태가 필요할까?"]'> </mm-text-list>

    <mm-text variant="subhead">Visual Style</mm-text>
    <mm-text variant="body">
      맥락이 다른 액션을 그룹으로 제공할 수 있습니다. 이 때 단일선택, 다중선택, 삭제여부, 펼침메뉴
      등의 기표를 충분히 제공하세요.
    </mm-text>
    <mm-text variant="body">
      목록의 재정렬Sort을 위한 옵션 목록을 group으로 제공하지 마세요. 현재 정렬 상태만 요약 표기하고
      확장가능한 메뉴로 정렬 목록을 제공하세요. (bad case: 2022.04 구글 지도 바뀐 것)
    </mm-text>

    <mm-text variant="subhead">A11y</mm-text>
    <mm-text variant="body">
      chipGroup selected=[] role=listbox aria-orientation="vertical" aria-multiselectable="true"<br />
      chip value="" role="option" aria-selected="true" | aria-checked=""
    </mm-text>

    <mm-text variant="subhead">
      Single selection for contents filtering. togglebuttonGroup mui
    </mm-text>
    <mm-tile size="small">
      <mm-group variant="chip">
        <mm-button status="checked" class="js-toggle is-active">전체</mm-button>
        <mm-button class="js-toggle">입금확인</mm-button>
        <mm-button class="js-toggle">결제완료</mm-button>
        <mm-button class="js-toggle">배송중</mm-button>
      </mm-group>
    </mm-tile>

    <mm-text variant="subhead">Multiple selections</mm-text>
    <mm-tile size="small">
      <mm-group variant="chip" aria-multiselectable="true">
        <mm-button role="option" name="check" aria-selected="true" status="checked">소설</mm-button>
        <mm-button role="option" icon="check" aria-selected="false" status="checked">
          영화</mm-button
        >
        <mm-button role="option" aria-selected="false">타이포그래피</mm-button>
      </mm-group>
    </mm-tile>

    <mm-text variant="subhead">Bleeding</mm-text>
    <mm-tile size="small">
      <div class="group" data-alignment="bleeding-vertical">
        <mm-button>블리딩1234</mm-button>
        <mm-button>블리딩4564</mm-button>
        <mm-button>블리딩1234</mm-button>
        <mm-button>블리딩4564</mm-button>
        <mm-button>블리딩1234</mm-button>
      </div>
    </mm-tile>

    <mm-text-list
      texts='[
    "menuitem, checkbox로 대체 가능한 selection role. TODO 그렇다면 언제 메뉴아이템과 체크박스를 사용하고 언제 칩그룹을 사용하는지 가이드가 필요하다.",
    "TODO : searhField avatar를 쓰니까 아바타 특유의 형태와 충돌(outlined) 사이즈를 다시
    정의해주어야 한다. 컴포넌트 합성하면 사실 이걸 그렇게 고민할 내용은 아니게 됨."
    "button과 통합 하느냐 tag와 통합하느냐. 인터렉션을 기준으로 정의할 수 있어 버튼이 유리. 문제는 selected 상태에 관한 스타일은 chip의 고유한 형태. 기능으로 분류하는 것이 중요함. 태그를 뱃지로, 칩을 태그로 정의하는 경우도 있음. 도메인에 특화된 기능 중심의 버튼 컴포넌트를 잘 정의하는 것이 맹점. slot으로 아이콘을 넣는 방식이 되면 유지 비용이 생김."
    "action/entry/filter(check active)/choice",
    "avatar / chip with icon에서 이전 페이지 등과 같이 클릭 영역을 주어야 할 때 아바타/칩 선택필요."
    "MEMO: Text only는 plain variant이 될 수 없다.",
    "TODO 선택을 클리어하는 클리어버튼을 만들어 검색필드에서 활용하는 방법도 있다.",
    "아이콘이 아니라 이모지가 들어갈 때. 여기서 searching 왼쪽 아바타."
    ]'
    >
    </mm-text-list>
  </section>
</main>
